====================================
Ametras Colorize field in tree views
====================================

..
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by ametras-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:ce97909553455962172d7449b55f7e4d1454d39a2c7f89f65445725a075b999f
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: #
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-OPL--1-blue.png
    :target: https://www.odoo.com/documentation/13.0/legal/licenses/licenses.html#odoo-apps
    :alt: License: OPL-1
.. |badge3| image:: https://img.shields.io/badge/bitbucket-ametras--intelligence%2Futils-lightgray.png?logo=bitbucket
    :target: https://bitbucket.org/ametras-intelligence/utils/src/16.0/web_tree_dynamic_colored_field
    :alt: ametras-intelligence/utils
.. |badge4| image:: https://img.shields.io/badge/crowdin-Translate%20me-F47D42.png
    :target: https://crowdin.com/project/ametras-xsolutions
    :alt: Translate me on Crowdin
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.int.ametras.cloud/builds?repo=ametras-intelligence/utils&target_branch=16.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|


Features
========

* Add attribute ``bg_color`` on field's ``options`` to color background of a cell in tree view
* Add attribute ``fg_color`` on field's ``options`` to change text color of a cell in tree view



Usage
=====

* In the tree view declaration, put ``options='{"bg_color": "red: customer==True"}`` attribute in the ``field`` tag::

    ...
    <field name="arch" type="xml">
        <tree string="View name">
            ...
            <field name="name" options='{"bg_color": "red: customer == True"}'/>
            ...
        </tree>
    </field>
    ...

    With this example, column which renders 'name' field will have its background colored in red.

* In the tree view declaration, put ``options='{"fg_color": "white:customer == True"}'`` attribute in the ``field`` tag::

    ...
    <field name="arch" type="xml">
        <tree string="View name">
            ...
            <field name="name" options='{"fg_color": "white:customer == True"}'/>
            ...
        </tree>
    </field>
    ...

    With this example, column which renders 'name' field will have its text colored in white on a customer records.

* In the tree view declaration, use ``options='"color_field": "my_color"'`` attribute in the ``tree`` tag::

    ...
    <field name="arch" type="xml">
        <tree string="View name" colors="color_field: my_color" >
            ...
            <field name="my_color" invisible="1"/>
            ...
        </tree>
    </field>
    ...

* You can also use ``colors="bg_color_field: my_color"`` to defined the field name that will be used
  for the background color of the line.

* If you want to use more than one color, you can split the attributes using ';':

.. code::

   options='{"fg_color": "red:red_color == True; green:green_color == True"}'

Example:

.. code:: xml

   ...
    <field name="arch" type="xml">
        <tree string="View name">
            ...
            <field name="name" options='{"fg_color": "red:red_color == True; green:green_color == True"}'/>
            ...
        </tree>
    </field>
    ...

    With this example, the content of the field named `my_color` will be used to
    populate the `my_color` CSS value. Use a function field to return whichever
    color you want depending on the other record values. Note that this
    overrides the rest of `colors` attributes, and that you need the tree
    to load your field in the first place by adding it as invisible field.

**Note that you should always use single quotes for fields' ``options`` and wrap nested values in double quotes since ``options`` is a JSON object.**


**Table of contents**

.. contents::
   :local:

Bug Tracker
===========

Bugs are tracked on `AMETRAS intelligence Jira <https://ametras-intelligence.atlassian.net/servicedesk/customer/portal/3>`_.
Do not contact contributors directly about support or help with technical issues.

Authors
===========

* Ametras intelligence GmbH

Maintainers
===========

This module is maintained by the AMETRAS intelligence GmbH.

.. image:: http://erp.ametras.com/web/image/39891/company_logo.png
   :alt: Ametras Intelligence GmbH
   :target: https://www.ametras.com/ametras-intelligence/startseite.html

This module is part of the `ametras-intelligence/utils <https://bitbucket.org/ametras-intelligence/utils/src/16.0/web_tree_dynamic_colored_field>`_ project on Bitbucket.

